sudo: false

language: java

before_script:
  - wget --quiet https://github.com/ericchiang/pup/releases/download/v0.4.0/pup_v0.4.0_linux_386.zip -O /tmp/pup.zip
  - tar -xf /tmp/pup.zip
  - export PATH=$PATH:~/tmp/
  - export PATH=$PATH:$PWD/pup

  - curl -s https://s3.amazonaws.com/public.ionchannel.io/files/scripts/travis_analyze_project.sh | bash
  - cat analysis_id.txt

script:
  - mvn package
  - mvn clean test
  - curl -s https://s3.amazonaws.com/public.ionchannel.io/files/scripts/travis_add_java_coverage.sh | bash
  - curl -s https://s3.amazonaws.com/public.ionchannel.io/files/scripts/travis_compliance_check.sh | bash
